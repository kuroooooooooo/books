<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="communityMapper">

   <insert id="insert" >
   		insert into Bookcommunity(
   			bno, 
   			title, 
   			content, 
   			user_id
   		) values(bookcommunity_SEQ.NEXTVAL,
   				#{title},
   				#{content},
   				#{userId}
   				)
   </insert>
   
   <select id="list" resultType="com.books.TO.CommunityTO">
   	SELECT bno, title, user_id, regdate, cnt
   	FROM BookCommunity
   	ORDER BY bno DESC
   </select>
   
   
   <select id="read" parameterType="int" resultType="com.books.TO.CommunityTO">
   		SELECT bno, title, user_id, content
   		FROM BookCommunity
   		WHERE bno = #{bno}
   </select>
   
   <update id="update" parameterType="com.books.TO.CommunityTO">
   		UPDATE BookCommunity
   			SET title = #{title},
   				content = #{content}
   			WHERE bno = #{bno}
   </update>
   
   <delete id="delete" parameterType="int">
   		DELETE 
   			FROM BookCommunity
   			WHERE bno = #{bno}
   </delete>
   
</mapper>